{"ast":null,"code":"import React,{useState}from\"react\";import Close from\"../../img/icon/close.png\";import{useParams}from\"react-router-dom\";import{createAnswer}from\"../../api/Q&A/createAnswer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AnswerRegister(_ref){let{CloseAnswerModal,currentUserInfo,questionId,sentUserId,sentUserPic,questionText}=_ref;const{id}=useParams();let[inputCount,setInputCount]=useState(0);const[btn,setBtn]=useState(true);//ÎãµÎ≥Ä ÌÖçÏä§Ìä∏Î•º Ï†ÄÏû•ÌïòÍ∏∞ ÏúÑÌïú state Î≥ÄÏàò\nconst[answerText,setAnswerText]=useState(\"\");const onTextareaHandler=e=>{setInputCount(e.target.value.length);setAnswerText(e.target.value);};const clickBtn=()=>{setBtn(!btn);};// ÎãµÎ≥Ä Îì±Î°ùÌïòÎäî API\nconst registerAnswer=async()=>{try{await createAnswer(id,currentUserInfo,answerText,btn,questionId);CloseAnswerModal();// ÏßàÎ¨∏ Îì±Î°ù ÌõÑ ÌåùÏóÖÏùÑ Îã´ÏäµÎãàÎã§.\nwindow.location.reload();}catch(error){if(error.response&&error.response.status===401){console.error(\"Î°úÍ∑∏Ïù∏Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§.\");// Î°úÍ∑∏Ïù∏Ïù¥ ÌïÑÏöîÌïú Í≤ΩÏö∞Ïóê ÎåÄÌïú Ï≤òÎ¶¨Î•º Ï∂îÍ∞ÄÌï©ÎãàÎã§.\n}else{console.error(\"ÎãµÎ≥Ä Îì±Î°ùÏóê Ïã§Ìå®Ìï®:\",error);// ÌïÑÏöîÌïú ÏóêÎü¨ Ï≤òÎ¶¨ Î°úÏßÅÏùÑ Ï∂îÍ∞ÄÌï©ÎãàÎã§.\n}}};return/*#__PURE__*/_jsx(\"div\",{className:\"popupWrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"popup registerPopup\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popupContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"popupHeader\",children:/*#__PURE__*/_jsx(\"img\",{src:Close,alt:\"close\",onClick:CloseAnswerModal})}),/*#__PURE__*/_jsxs(\"div\",{className:\"popupContent\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile que\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:sentUserPic,alt:\"profile\",className:\"questioner\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"myId id\",children:sentUserId}),/*#__PURE__*/_jsx(\"p\",{className:\"queCnt\",children:questionText})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:currentUserInfo.picture,alt:\"profile\",className:\"respondent\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"myId id\",children:currentUserInfo.name}),btn?/*#__PURE__*/_jsx(\"button\",{className:\"openBtn\",onClick:clickBtn,children:/*#__PURE__*/_jsx(\"span\",{role:\"img\",\"aria-label\":\"link\",children:\"\\uD83D\\uDD12\\uC9C8\\uBB38\\uC790\\uC5D0\\uAC8C\\uB9CC \\uBCF4\\uC774\\uB294 \\uB2F5\\uBCC0\"})}):/*#__PURE__*/_jsx(\"button\",{className:\"openBtn\",onClick:clickBtn,children:/*#__PURE__*/_jsx(\"span\",{role:\"img\",\"aria-label\":\"link\",children:\"\\uD83D\\uDCE2\\uACF5\\uAC1C \\uB2F5\\uBCC0\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:/*#__PURE__*/_jsx(\"textarea\",{maxLength:\"500\",onChange:onTextareaHandler})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"popupFooter\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"countNum\",children:[/*#__PURE__*/_jsx(\"span\",{children:inputCount}),/*#__PURE__*/_jsx(\"span\",{children:\"/500\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btnSave\",onClick:registerAnswer,children:\"\\uB0A8\\uAE30\\uAE30\"})]})]})})});}export default AnswerRegister;","map":{"version":3,"names":["React","useState","Close","useParams","createAnswer","jsx","_jsx","jsxs","_jsxs","AnswerRegister","_ref","CloseAnswerModal","currentUserInfo","questionId","sentUserId","sentUserPic","questionText","id","inputCount","setInputCount","btn","setBtn","answerText","setAnswerText","onTextareaHandler","e","target","value","length","clickBtn","registerAnswer","window","location","reload","error","response","status","console","className","children","src","alt","onClick","picture","name","role","maxLength","onChange"],"sources":["C:/Users/PC/Desktop/mumul_frontend/mumul/src/component/popup/AnswerRegister.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport Close from \"../../img/icon/close.png\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { createAnswer } from \"../../api/Q&A/createAnswer\";\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nfunction AnswerRegister({ CloseAnswerModal, currentUserInfo, questionId, sentUserId, sentUserPic, questionText }) {\r\n  const { id } = useParams();\r\n  let [inputCount, setInputCount] = useState(0);\r\n  const [btn, setBtn] = useState(true);\r\n  //ÎãµÎ≥Ä ÌÖçÏä§Ìä∏Î•º Ï†ÄÏû•ÌïòÍ∏∞ ÏúÑÌïú state Î≥ÄÏàò\r\n  const [answerText, setAnswerText] = useState(\"\");\r\n\r\n\r\n  const onTextareaHandler = (e) => {\r\n    setInputCount(e.target.value.length);\r\n    setAnswerText(e.target.value);\r\n  };\r\n  const clickBtn = () => {\r\n    setBtn(!btn);\r\n  };\r\n\r\n  // ÎãµÎ≥Ä Îì±Î°ùÌïòÎäî API\r\n  const registerAnswer = async () => {\r\n    try {\r\n      await createAnswer(id, currentUserInfo, answerText, btn, questionId);\r\n      CloseAnswerModal(); // ÏßàÎ¨∏ Îì±Î°ù ÌõÑ ÌåùÏóÖÏùÑ Îã´ÏäµÎãàÎã§.\r\n      window.location.reload();\r\n    } catch (error) {\r\n      if (error.response && error.response.status === 401) {\r\n        console.error(\"Î°úÍ∑∏Ïù∏Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§.\");\r\n        // Î°úÍ∑∏Ïù∏Ïù¥ ÌïÑÏöîÌïú Í≤ΩÏö∞Ïóê ÎåÄÌïú Ï≤òÎ¶¨Î•º Ï∂îÍ∞ÄÌï©ÎãàÎã§.\r\n      } else {\r\n        console.error(\"ÎãµÎ≥Ä Îì±Î°ùÏóê Ïã§Ìå®Ìï®:\", error);\r\n        // ÌïÑÏöîÌïú ÏóêÎü¨ Ï≤òÎ¶¨ Î°úÏßÅÏùÑ Ï∂îÍ∞ÄÌï©ÎãàÎã§.\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"popupWrap\">\r\n      <div className=\"popup registerPopup\">\r\n        <div className=\"popupContainer\">\r\n          <div className=\"popupHeader\">\r\n            <img src={Close} alt=\"close\" onClick={CloseAnswerModal} />\r\n          </div>\r\n          <div className=\"popupContent\">\r\n            <div className=\"profile que\">\r\n              <div>\r\n                <img src={sentUserPic} alt=\"profile\" className=\"questioner\" />\r\n              </div>\r\n              <div>\r\n                <p className=\"myId id\">{sentUserId}</p>\r\n                <p className=\"queCnt\">\r\n                  {questionText}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div className=\"profile\">\r\n              <div>\r\n                <img src={currentUserInfo.picture} alt=\"profile\" className=\"respondent\" />\r\n              </div>\r\n              <div>\r\n                <p className=\"myId id\">{currentUserInfo.name}</p>\r\n                {btn ? (\r\n                  <button className=\"openBtn\" onClick={clickBtn}>\r\n                    <span role=\"img\" aria-label=\"link\">\r\n                      üîíÏßàÎ¨∏ÏûêÏóêÍ≤åÎßå Î≥¥Ïù¥Îäî ÎãµÎ≥Ä\r\n                    </span>\r\n                  </button>\r\n                ) : (\r\n                  <button className=\"openBtn\" onClick={clickBtn}>\r\n                     <span role=\"img\" aria-label=\"link\">\r\n                    üì¢Í≥µÍ∞ú ÎãµÎ≥Ä\r\n                    </span>\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"text\">\r\n              <textarea maxLength=\"500\" onChange={onTextareaHandler}></textarea>\r\n            </div>\r\n          </div>\r\n          <div className=\"popupFooter\">\r\n            <p className=\"countNum\">\r\n              <span>{inputCount}</span>\r\n              <span>/500</span>\r\n            </p>\r\n            <button className=\"btnSave\" onClick={registerAnswer}>ÎÇ®Í∏∞Í∏∞</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nAnswerRegister.propTypes = {\r\n  loseAnswerModal: PropTypes.any.isRequired,\r\n  currentUserInfo: PropTypes.any.isRequired,\r\n  questionId: PropTypes.any.isRequired,\r\n  sentUserId: PropTypes.any.isRequired,\r\n  sentUserPic: PropTypes.any.isRequired,\r\n  questionText: PropTypes.any.isRequired,\r\n  CloseAnswerModal: PropTypes.any.isRequired,\r\n};\r\n\r\n\r\nexport default AnswerRegister;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}