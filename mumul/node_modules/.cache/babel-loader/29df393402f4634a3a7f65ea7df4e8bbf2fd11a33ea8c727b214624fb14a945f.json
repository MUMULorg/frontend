{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Desktop\\\\mumul_frontend\\\\mumul\\\\src\\\\pages\\\\Main.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport Header from \"../component/Header\";\nimport SendComment from \"../component/SendComment\";\nimport ReceiveComment from \"../component/ReceiveComment\";\nimport MyProfile from \"../component/MyProfile\";\nimport QuestionerProfile from \"../component/QuestionerProfile\";\nimport { useParams } from \"react-router-dom\";\nimport { getSpaceInfo } from \"../api/getSpaceInfo\";\nimport { getUserInfo } from \"../api/getUserInfo\";\nimport PropTypes from 'prop-types';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Main({\n  isLogin,\n  setIsLogin,\n  followSelected,\n  setFollowSelected\n}) {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [isNotFound, setIsNotFound] = useState(true);\n  const [info, setInfo] = useState({\n    userId: '',\n    picture: '',\n    name: '',\n    introduce: '',\n    instaId: '',\n    link: '',\n    spaceStop: '',\n    alertSpace: ''\n  });\n  const [currentUserInfo, setCurrentUserInfo] = useState({\n    userId: '',\n    picture: '',\n    name: '',\n    introduce: '',\n    instaId: '',\n    link: '',\n    spaceStop: ''\n  });\n  useEffect(() => {\n    const initUserInfo = async () => {\n      const newInfo = await getSpaceInfo(id);\n      const token = localStorage.getItem('token');\n      if (token !== null) {\n        const userInfo = await getUserInfo();\n        if (userInfo === false) {\n          setIsLogin(false);\n        }\n        setCurrentUserInfo(userInfo);\n      }\n      if (newInfo === false) {\n        setIsNotFound(true);\n      } else {\n        setIsNotFound(false);\n        setInfo(newInfo);\n      }\n    };\n    initUserInfo();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id, isLogin, followSelected]);\n  const [activeIndex, setActiveIndex] = useState(0);\n  const tabContArr = [{\n    id: 0,\n    tabTitle: \"받은 무물\",\n    tabCont: /*#__PURE__*/_jsxDEV(ReceiveComment, {\n      spaceId: id,\n      currentUserInfo: currentUserInfo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 16\n    }, this)\n  }, {\n    id: 1,\n    tabTitle: \"보낸 무물\",\n    tabCont: /*#__PURE__*/_jsxDEV(SendComment, {\n      spaceId: id,\n      currentUserInfo: currentUserInfo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 16\n    }, this)\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrap\",\n    children: isNotFound ? /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrap\",\n        children: [/*#__PURE__*/_jsxDEV(Header, {\n          isLogin: isLogin,\n          setIsLogin: setIsLogin,\n          currentUserInfo: currentUserInfo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"contentWrap\",\n          children: [currentUserInfo.userId === info.userId ? /*#__PURE__*/_jsxDEV(MyProfile, {\n            currentUserInfo: currentUserInfo,\n            followSelected: followSelected,\n            setFollowSelected: setFollowSelected\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this) : /*#__PURE__*/_jsxDEV(QuestionerProfile, {\n            spaceUserInfo: info,\n            currentUserInfo: currentUserInfo,\n            followSelected: followSelected,\n            setFollowSelected: setFollowSelected,\n            isLogin: isLogin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"tabMenu\",\n            children: tabContArr.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: activeIndex === item.id ? \"is-active\" : \"\",\n              onClick: () => setActiveIndex(item.id),\n              children: item.tabTitle\n            }, item.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 13\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: tabContArr.filter(item => activeIndex === item.id).map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: item.tabCont\n            }, item.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 15\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 7\n      }, this)\n    }, void 0, false)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n}\n_s(Main, \"FBmyAf0VGFsvcTIY+H59KazcokA=\", false, function () {\n  return [useParams];\n});\n_c = Main;\nMain.propTypes = {\n  isLogin: PropTypes.any.isRequired,\n  setIsLogin: PropTypes.any.isRequired,\n  followSelected: PropTypes.any.isRequired,\n  setFollowSelected: PropTypes.any.isRequired\n};\nexport default Main;\nvar _c;\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"names":["React","useState","useEffect","Header","SendComment","ReceiveComment","MyProfile","QuestionerProfile","useParams","getSpaceInfo","getUserInfo","PropTypes","jsxDEV","_jsxDEV","Fragment","_Fragment","Main","isLogin","setIsLogin","followSelected","setFollowSelected","_s","id","isNotFound","setIsNotFound","info","setInfo","userId","picture","name","introduce","instaId","link","spaceStop","alertSpace","currentUserInfo","setCurrentUserInfo","initUserInfo","newInfo","token","localStorage","getItem","userInfo","activeIndex","setActiveIndex","tabContArr","tabTitle","tabCont","spaceId","fileName","_jsxFileName","lineNumber","columnNumber","className","children","spaceUserInfo","map","item","onClick","filter","_c","propTypes","any","isRequired","$RefreshReg$"],"sources":["C:/Users/PC/Desktop/mumul_frontend/mumul/src/pages/Main.js"],"sourcesContent":["import React, { useState, useEffect} from \"react\";\r\nimport Header from \"../component/Header\";\r\nimport SendComment from \"../component/SendComment\";\r\nimport ReceiveComment from \"../component/ReceiveComment\";\r\nimport MyProfile from \"../component/MyProfile\";\r\nimport QuestionerProfile from \"../component/QuestionerProfile\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { getSpaceInfo } from \"../api/getSpaceInfo\";\r\nimport { getUserInfo } from \"../api/getUserInfo\";\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction Main({isLogin, setIsLogin, followSelected, setFollowSelected}) {\r\n  const { id } = useParams();\r\n\r\n  const [isNotFound, setIsNotFound] = useState(true);\r\n\r\n  const [info, setInfo] = useState({\r\n    userId: '',\r\n    picture: '',\r\n    name: '',\r\n    introduce: '',\r\n    instaId: '',\r\n    link: '',\r\n    spaceStop: '',\r\n    alertSpace: '',\r\n  });\r\n  const [currentUserInfo, setCurrentUserInfo] = useState({\r\n    userId: '',\r\n    picture: '',\r\n    name: '',\r\n    introduce: '',\r\n    instaId: '',\r\n    link: '',\r\n    spaceStop: '',\r\n  });\r\n\r\n \r\n\r\n  useEffect(() => {\r\n    const initUserInfo = async () => {\r\n      const newInfo = await getSpaceInfo(id);\r\n      const token = localStorage.getItem('token');\r\n  \r\n      if (token !== null) {\r\n        const userInfo = await getUserInfo();\r\n        if(userInfo === false) {\r\n          setIsLogin(false);\r\n        }\r\n        setCurrentUserInfo(userInfo);\r\n      }\r\n      if (newInfo === false) {\r\n        setIsNotFound(true);\r\n      } else {\r\n        setIsNotFound(false);\r\n        setInfo(newInfo);\r\n      }\r\n    };\r\n  \r\n    initUserInfo();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [id, isLogin, followSelected]);\r\n  \r\n\r\n  const [activeIndex, setActiveIndex] = useState(0);\r\n\r\n  const tabContArr = [\r\n    {\r\n      id: 0,\r\n      tabTitle: \"받은 무물\",\r\n      tabCont: <ReceiveComment spaceId={id} currentUserInfo={currentUserInfo}></ReceiveComment>,\r\n    },\r\n    {\r\n      id: 1,\r\n      tabTitle: \"보낸 무물\",\r\n      tabCont: <SendComment spaceId={id} currentUserInfo={currentUserInfo}></SendComment>,\r\n    },\r\n  ];\r\n\r\n\r\n  return (\r\n    <div className=\"wrap\">\r\n      {isNotFound ? (\r\n        <div></div>\r\n      ) : (\r\n        <>\r\n      <div className=\"wrap\">\r\n      <Header isLogin={isLogin} setIsLogin={setIsLogin} currentUserInfo={currentUserInfo}></Header>\r\n      <div className=\"contentWrap\">\r\n        {/* <Storyslide spaceId={id} followSelected={followSelected}></Storyslide> */}\r\n        {currentUserInfo.userId === info.userId ? (\r\n            <MyProfile currentUserInfo={currentUserInfo}\r\n            followSelected={followSelected} setFollowSelected={setFollowSelected}></MyProfile>\r\n          ) : (\r\n            <QuestionerProfile spaceUserInfo={info} currentUserInfo={currentUserInfo} \r\n            followSelected={followSelected} setFollowSelected={setFollowSelected}\r\n            isLogin={isLogin}></QuestionerProfile>\r\n        )}\r\n        <ul className=\"tabMenu\">\r\n          {tabContArr.map((item) => (\r\n            <li\r\n              className={activeIndex === item.id ? \"is-active\" : \"\"}\r\n              onClick={() => setActiveIndex(item.id)}\r\n              key={item.id}\r\n            >\r\n              {item.tabTitle}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        <div>\r\n          {tabContArr\r\n            .filter((item) => activeIndex === item.id)\r\n            .map((item) => (\r\n              <div key={item.id}>{item.tabCont}</div>\r\n            ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nMain.propTypes={\r\n  isLogin: PropTypes.any.isRequired,\r\n  setIsLogin: PropTypes.any.isRequired,\r\n  followSelected: PropTypes.any.isRequired,  \r\n  setFollowSelected: PropTypes.any.isRequired,    \r\n}\r\nexport default Main;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}