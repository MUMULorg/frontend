{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Swiper,SwiperSlide}from\"swiper/react\";import'swiper/swiper-bundle.min.css';import'swiper/swiper.min.css';import{Navigation}from\"swiper\";import{getFollowingList}from\"../api/Follow/getFollowingList\";import{getSpaceInfo}from\"../api/getSpaceInfo\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Storyslide(_ref){let{spaceId,followSelected,followerList}=_ref;const[swiperRef,setSwiperRef]=useState(null);const[followingList,setFollowingList]=useState([]);const[spaceInfo,setSpaceInfo]=useState({userId:'',picture:'',name:''});useEffect(()=>{const fetchData=async()=>{try{const response=await getFollowingList(spaceId);const spaceUserInfo=await getSpaceInfo(spaceId);setSpaceInfo(spaceUserInfo||{userId:'',picture:'',name:''});// 기본값 설정 (데이터 패칭 undefined 에러 방지)\nsetFollowingList(response||[]);// 기본값 설정 (데이터 패칭 undefined 에러 방지)\n}catch(error){console.error(error);}};fetchData();},[spaceId]);const prevHandler=()=>{swiperRef.slidePrev();};const nextHandler=()=>{swiperRef.slideNext();};return/*#__PURE__*/_jsxs(\"div\",{className:\"slideWrap\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:prevHandler,className:\"swiper-button-prev\",children:\"Prev\"}),/*#__PURE__*/_jsx(\"button\",{className:\"swiper-button-next\",onClick:nextHandler,children:\"Next\"}),followingList.length>0&&/*#__PURE__*/_jsxs(Swiper,{slidesPerView:4,spaceBetween:20,navigation:{nextEl:\".swiper-button-next\",prevEl:\".swiper-button-prev\",disabledClass:\"swiper-button-disabled\"},className:\"mySwiper\",modules:[Navigation],breakpoints:{640:{slidesPerView:4,spaceBetween:20},720:{slidesPerView:6,spaceBetween:20},1024:{slidesPerView:8,spaceBetween:20}},onSwiper:swiper=>setSwiperRef(swiper),children:[/*#__PURE__*/_jsxs(SwiperSlide,{children:[/*#__PURE__*/_jsx(\"img\",{src:spaceInfo.picture,alt:\"\",className:\"storyImg MyImg\"}),/*#__PURE__*/_jsx(\"p\",{className:\"stroryId Me\",children:spaceInfo.name})]}),followSelected?followingList.map(item=>/*#__PURE__*/_jsxs(SwiperSlide,{children:[/*#__PURE__*/_jsx(\"img\",{src:item.picture,alt:\"\",className:\"storyImg followImg\",onClick:()=>window.location.href=\"/\".concat(item.userId)}),/*#__PURE__*/_jsx(\"p\",{className:\"stroryId Others\",children:item.name})]},item.userId)):(followerList||[]).map(item=>/*#__PURE__*/_jsxs(SwiperSlide,{children:[/*#__PURE__*/_jsx(\"img\",{src:item.picture,alt:\"\",className:\"storyImg followImg\",onClick:()=>window.location.href=\"/\".concat(item.userId)}),/*#__PURE__*/_jsx(\"p\",{className:\"stroryId Others\",children:item.name})]},item.userId))]})]});}export default Storyslide;","map":{"version":3,"names":["React","useState","useEffect","Swiper","SwiperSlide","Navigation","getFollowingList","getSpaceInfo","jsx","_jsx","jsxs","_jsxs","Storyslide","_ref","spaceId","followSelected","followerList","swiperRef","setSwiperRef","followingList","setFollowingList","spaceInfo","setSpaceInfo","userId","picture","name","fetchData","response","spaceUserInfo","error","console","prevHandler","slidePrev","nextHandler","slideNext","className","children","onClick","length","slidesPerView","spaceBetween","navigation","nextEl","prevEl","disabledClass","modules","breakpoints","onSwiper","swiper","src","alt","map","item","window","location","href","concat"],"sources":["C:/Users/PC/Desktop/mumul_frontend/mumul/src/component/Storyslide.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Swiper, SwiperSlide } from \"swiper/react\";\r\nimport 'swiper/swiper-bundle.min.css'\r\nimport 'swiper/swiper.min.css'\r\nimport { Navigation } from \"swiper\";\r\nimport { getFollowingList } from \"../api/Follow/getFollowingList\";\r\nimport { getSpaceInfo } from \"../api/getSpaceInfo\";\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction Storyslide({spaceId, followSelected, followerList}) {\r\n  const [swiperRef, setSwiperRef] = useState(null);\r\n  const [followingList, setFollowingList] = useState([]);\r\n  const [spaceInfo, setSpaceInfo] = useState({\r\n    userId: '',\r\n    picture: '',\r\n    name: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await getFollowingList(spaceId);\r\n        const spaceUserInfo = await getSpaceInfo(spaceId);\r\n\r\n        setSpaceInfo(spaceUserInfo || { userId: '', picture: '', name: '' }); // 기본값 설정 (데이터 패칭 undefined 에러 방지)\r\n        setFollowingList(response || []); // 기본값 설정 (데이터 패칭 undefined 에러 방지)\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [spaceId]);\r\n\r\n  const prevHandler = () => {\r\n    swiperRef.slidePrev();\r\n  };\r\n\r\n  const nextHandler = () => {\r\n    swiperRef.slideNext();\r\n  };\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"slideWrap\">\r\n      <button onClick={prevHandler} className=\"swiper-button-prev\">\r\n        Prev\r\n      </button>\r\n      <button className=\"swiper-button-next\" onClick={nextHandler}>\r\n        Next\r\n      </button>\r\n      {followingList.length > 0 && (\r\n        <Swiper\r\n          slidesPerView={4}\r\n          spaceBetween={20}\r\n          navigation={{\r\n            nextEl: \".swiper-button-next\",\r\n            prevEl: \".swiper-button-prev\",\r\n            disabledClass: \"swiper-button-disabled\",\r\n          }}\r\n          className=\"mySwiper\"\r\n          modules={[Navigation]}\r\n          breakpoints={{\r\n            640: {\r\n              slidesPerView: 4,\r\n              spaceBetween: 20,\r\n            },\r\n            720: {\r\n              slidesPerView: 6,\r\n              spaceBetween: 20,\r\n            },\r\n            1024: {\r\n              slidesPerView: 8,\r\n              spaceBetween: 20,\r\n            },\r\n          }}\r\n          onSwiper={(swiper) => setSwiperRef(swiper)}\r\n        >\r\n          <SwiperSlide>\r\n            <img src={spaceInfo.picture} alt=\"\" className=\"storyImg MyImg\" />\r\n            <p className=\"stroryId Me\">{spaceInfo.name}</p>\r\n          </SwiperSlide>\r\n          {followSelected\r\n            ? followingList.map((item) => (\r\n                <SwiperSlide key={item.userId}>\r\n                  <img\r\n                    src={item.picture}\r\n                    alt=\"\"\r\n                    className=\"storyImg followImg\"\r\n                    onClick={() => (window.location.href = `/${item.userId}`)}\r\n                  />\r\n                  <p className=\"stroryId Others\">{item.name}</p>\r\n                </SwiperSlide>\r\n              ))\r\n            : (followerList || []).map((item) => (\r\n                <SwiperSlide key={item.userId}>\r\n                  <img\r\n                    src={item.picture}\r\n                    alt=\"\"\r\n                    className=\"storyImg followImg\"\r\n                    onClick={() => (window.location.href = `/${item.userId}`)}\r\n                  />\r\n                  <p className=\"stroryId Others\">{item.name}</p>\r\n                </SwiperSlide>\r\n              ))}\r\n        </Swiper>\r\n      )}\r\n    </div>\r\n  );\r\n  \r\n}\r\n\r\nStoryslide.propTypes = {\r\n  spaceId: PropTypes.string.isRequired,\r\n  followSelected: PropTypes.bool.isRequired,\r\n  followerList: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default Storyslide;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}