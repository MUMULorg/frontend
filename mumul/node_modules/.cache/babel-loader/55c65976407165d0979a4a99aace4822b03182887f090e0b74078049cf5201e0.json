{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Desktop\\\\mumul_frontend\\\\mumul\\\\src\\\\component\\\\Header.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { logoutUserToken } from \"../api/logoutUserToken\";\nimport PropTypes from 'prop-types';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Header({\n  isLogin,\n  setIsLogin,\n  currentUserInfo\n}) {\n  _s();\n  Header.propTypes = {\n    isLogin: PropTypes.bool.isRequired,\n    setIsLogin: PropTypes.func.isRequired,\n    currentUserInfo: PropTypes.object.isRequired\n  };\n  const [modal, setModal] = useState(false);\n  const profileRef = useRef(null);\n  const handleClickOutside = event => {\n    if (profileRef.current && !profileRef.current.contains(event.target)) {\n      setModal(false);\n    }\n  };\n  const handleProfileClick = () => {\n    setModal(!modal);\n  };\n  const handleMumulClick = () => {\n    window.location.href = \"http://mumul.site\";\n  };\n  useEffect(() => {\n    // document 객체에 클릭 이벤트 리스너 등록\n    document.addEventListener(\"click\", handleClickOutside);\n    return () => {\n      // 컴포넌트가 언마운트 될 때 이벤트 리스너 제거\n      document.removeEventListener(\"click\", handleClickOutside);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: \"header\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"title\",\n      onClick: handleMumulClick,\n      children: \"MUMUL\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile\",\n      ref: profileRef,\n      children: isLogin === true ? /*#__PURE__*/_jsxDEV(\"img\", {\n        src: currentUserInfo.picture,\n        alt: \"profile\",\n        onClick: handleProfileClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/login\",\n        className: \"loginBtn\",\n        children: \"\\uB85C\\uADF8\\uC778\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), modal && /*#__PURE__*/_jsxDEV(HeaderPopup, {\n      isLogin: isLogin,\n      setIsLogin: setIsLogin,\n      currentUserInfo: currentUserInfo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(Header, \"0vIBYC4kMQUsNLH7z/yQExeCVaw=\");\n_c = Header;\nfunction HeaderPopup({\n  isLogin,\n  setIsLogin,\n  currentUserInfo\n}) {\n  const token = localStorage.getItem(\"token\");\n  const handleLogout = async () => {\n    try {\n      const result = await logoutUserToken();\n      if (result) {\n        // 로그아웃 성공\n        setIsLogin(false);\n        window.location.href = '/login';\n      }\n    } catch (error) {\n      console.error(\"로그아웃 오류: \", error.message);\n    }\n  };\n  const handleClickMySpace = () => {\n    if (currentUserInfo.userId === '') {\n      alert(\"로그인 하세요.\");\n      return;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"ul\", {\n    className: \"headerPopup\",\n    children: [/*#__PURE__*/_jsxDEV(\"li\", {\n      className: \"list\",\n      onClick: handleClickMySpace,\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: isLogin !== false ? '/' + currentUserInfo.userId : '#',\n        onClick: e => {\n          if (isLogin !== false && window.location.pathname === '/' + currentUserInfo.userId) {\n            e.preventDefault(); // Prevent the default link behavior\n            window.location.reload(); // Force a page reload\n          }\n        },\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\uB0B4 \\uC2A4\\uD398\\uC774\\uC2A4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n      className: \"list\",\n      onClick: () => {\n        if (isLogin !== false) handleLogout();\n      },\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/login\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: isLogin ? \"로그아웃\" : \"로그인\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n      className: \"list\",\n      onClick: handleClickMySpace,\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: currentUserInfo.userId !== '' ? '/setting' : '#',\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\uC124\\uC815\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n}\n_c2 = HeaderPopup;\nexport default Header;\nvar _c, _c2;\n$RefreshReg$(_c, \"Header\");\n$RefreshReg$(_c2, \"HeaderPopup\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Link","logoutUserToken","PropTypes","jsxDEV","_jsxDEV","Header","isLogin","setIsLogin","currentUserInfo","_s","propTypes","bool","isRequired","func","object","modal","setModal","profileRef","handleClickOutside","event","current","contains","target","handleProfileClick","handleMumulClick","window","location","href","document","addEventListener","removeEventListener","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","ref","src","picture","alt","to","HeaderPopup","_c","token","localStorage","getItem","handleLogout","result","error","console","message","handleClickMySpace","userId","alert","e","pathname","preventDefault","reload","_c2","$RefreshReg$"],"sources":["C:/Users/PC/Desktop/mumul_frontend/mumul/src/component/Header.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { logoutUserToken } from \"../api/logoutUserToken\";\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nfunction Header({ isLogin, setIsLogin, currentUserInfo }) {\r\n  Header.propTypes = {\r\n    isLogin: PropTypes.bool.isRequired,\r\n    setIsLogin: PropTypes.func.isRequired,\r\n    currentUserInfo: PropTypes.object.isRequired,\r\n  };\r\n  const [modal, setModal] = useState(false);\r\n  const profileRef = useRef(null);\r\n\r\n  const handleClickOutside = (event) => {\r\n    if (profileRef.current && !profileRef.current.contains(event.target)) {\r\n      setModal(false);\r\n    }\r\n  };\r\n\r\n  const handleProfileClick = () => {\r\n    setModal(!modal);\r\n  };\r\n\r\n  const handleMumulClick = () => {\r\n    window.location.href = \"http://mumul.site\";\r\n  };\r\n\r\n  useEffect(() => {\r\n    // document 객체에 클릭 이벤트 리스너 등록\r\n    document.addEventListener(\"click\", handleClickOutside);\r\n    return () => {\r\n      // 컴포넌트가 언마운트 될 때 이벤트 리스너 제거\r\n      document.removeEventListener(\"click\", handleClickOutside);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <header className=\"header\">\r\n       <h1 className=\"title\" onClick={handleMumulClick}>MUMUL</h1>\r\n      <div className=\"profile\" ref={profileRef}>\r\n        {isLogin === true ? (\r\n          <img\r\n            src={ currentUserInfo.picture}\r\n            alt=\"profile\"\r\n            onClick={handleProfileClick}\r\n          />\r\n        ):(\r\n          <Link to=\"/login\" className=\"loginBtn\">\r\n            로그인\r\n          </Link>\r\n        )}\r\n      </div>\r\n      {modal && (\r\n        <HeaderPopup\r\n          isLogin={isLogin}\r\n          setIsLogin={setIsLogin}\r\n          currentUserInfo={currentUserInfo}\r\n        />\r\n      )}\r\n    </header>\r\n  );\r\n}\r\n\r\n\r\nfunction HeaderPopup({ isLogin, setIsLogin, currentUserInfo }) {\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      const result = await logoutUserToken();\r\n      if (result) {\r\n        // 로그아웃 성공\r\n        setIsLogin(false);\r\n        window.location.href = '/login';\r\n      } \r\n    } catch (error) {\r\n      console.error(\"로그아웃 오류: \", error.message);\r\n    }\r\n  };\r\n\r\n  const handleClickMySpace = () => {\r\n    if (currentUserInfo.userId === '') {\r\n      alert(\"로그인 하세요.\");\r\n      return;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ul className=\"headerPopup\">\r\n      <li className=\"list\" onClick={handleClickMySpace}>\r\n      <Link to={isLogin !== false ? '/' + currentUserInfo.userId : '#'} onClick={(e) => {\r\n        if (isLogin !== false && window.location.pathname === '/' + currentUserInfo.userId) {\r\n          e.preventDefault(); // Prevent the default link behavior\r\n          window.location.reload(); // Force a page reload\r\n        }\r\n      }}>\r\n        <p>내 스페이스</p>\r\n      </Link>\r\n  </li>\r\n\r\n      <li className=\"list\" onClick={() => { if(isLogin !== false) handleLogout(); }}>\r\n        <Link to=\"/login\">\r\n          <p>{isLogin ? \"로그아웃\" : \"로그인\"}</p>\r\n        </Link>\r\n      </li>\r\n      <li className=\"list\" onClick={handleClickMySpace}>\r\n        <Link to={currentUserInfo.userId !== '' ? '/setting' : '#'}>\r\n          <p>설정</p>\r\n        </Link>\r\n      </li>\r\n    </ul>\r\n  );\r\n}\r\n\r\n\r\n\r\nexport default Header;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}