{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Desktop\\\\mumul_frontend\\\\mumul\\\\src\\\\component\\\\KakaoAuthHandle.js\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport React, { useEffect } from 'react';\nimport { getUserInfo } from '../api/getUserInfo';\nimport PropTypes from 'prop-types';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst KakaoAuthHandle = props => {\n  _s();\n  useEffect(() => {\n    let code = new URL(window.location.href).searchParams.get('code');\n    const kakaoLogin = async () => {\n      try {\n        const res = await axios.get(`/v1/oauth/login/kakao?code=${code}`);\n        localStorage.setItem('token', res.headers.authorization);\n        const userInfo = await getUserInfo();\n        window.location.href = `/${userInfo.userId}`;\n      } catch (error) {\n        // Handle error if needed\n      }\n    };\n    kakaoLogin();\n  }, [props.history]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\uB85C\\uADF8\\uC778 \\uC911\\uC785\\uB2C8\\uB2E4...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n};\n_s(KakaoAuthHandle, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = KakaoAuthHandle;\nKakaoAuthHandle.propTypes = {\n  history: PropTypes.object.isRequired\n};\nexport default KakaoAuthHandle;\nvar _c;\n$RefreshReg$(_c, \"KakaoAuthHandle\");","map":{"version":3,"names":["axios","React","useEffect","getUserInfo","PropTypes","jsxDEV","_jsxDEV","Fragment","_Fragment","KakaoAuthHandle","props","_s","code","URL","window","location","href","searchParams","get","kakaoLogin","res","localStorage","setItem","headers","authorization","userInfo","userId","error","history","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","propTypes","object","isRequired","$RefreshReg$"],"sources":["C:/Users/PC/Desktop/mumul_frontend/mumul/src/component/KakaoAuthHandle.js"],"sourcesContent":["import axios from 'axios';\r\nimport React, { useEffect } from 'react';\r\nimport { getUserInfo } from '../api/getUserInfo';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst KakaoAuthHandle = (props) => {\r\n  useEffect(() => {\r\n    let code = new URL(window.location.href).searchParams.get('code');\r\n    const kakaoLogin = async () => {\r\n      try {\r\n        const res = await axios.get(`/v1/oauth/login/kakao?code=${code}`);\r\n        localStorage.setItem('token', res.headers.authorization);\r\n        const userInfo = await getUserInfo();\r\n        window.location.href = `/${userInfo.userId}`;\r\n      } catch (error) {\r\n        // Handle error if needed\r\n      }\r\n    };\r\n    kakaoLogin();\r\n  }, [props.history]);\r\n\r\n  return (\r\n    <>\r\n    <p>로그인 중입니다...</p>\r\n    </>\r\n  );\r\n};\r\n\r\nKakaoAuthHandle.propTypes = {\r\n  history: PropTypes.object.isRequired,\r\n};\r\n\r\n\r\nexport default KakaoAuthHandle;\r\n\r\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,WAAW,QAAQ,oBAAoB;AAChD,OAAOC,SAAS,MAAM,YAAY;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAEnC,MAAMC,eAAe,GAAIC,KAAK,IAAK;EAAAC,EAAA;EACjCT,SAAS,CAAC,MAAM;IACd,IAAIU,IAAI,GAAG,IAAIC,GAAG,CAACC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAC,CAACC,YAAY,CAACC,GAAG,CAAC,MAAM,CAAC;IACjE,MAAMC,UAAU,GAAG,MAAAA,CAAA,KAAY;MAC7B,IAAI;QACF,MAAMC,GAAG,GAAG,MAAMpB,KAAK,CAACkB,GAAG,CAAE,8BAA6BN,IAAK,EAAC,CAAC;QACjES,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,GAAG,CAACG,OAAO,CAACC,aAAa,CAAC;QACxD,MAAMC,QAAQ,GAAG,MAAMtB,WAAW,CAAC,CAAC;QACpCW,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAI,IAAGS,QAAQ,CAACC,MAAO,EAAC;MAC9C,CAAC,CAAC,OAAOC,KAAK,EAAE;QACd;MAAA;IAEJ,CAAC;IACDR,UAAU,CAAC,CAAC;EACd,CAAC,EAAE,CAACT,KAAK,CAACkB,OAAO,CAAC,CAAC;EAEnB,oBACEtB,OAAA,CAAAE,SAAA;IAAAqB,QAAA,eACAvB,OAAA;MAAAuB,QAAA,EAAG;IAAW;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG;EAAC,gBAChB,CAAC;AAEP,CAAC;AAACtB,EAAA,CArBIF,eAAe;AAAAyB,EAAA,GAAfzB,eAAe;AAuBrBA,eAAe,CAAC0B,SAAS,GAAG;EAC1BP,OAAO,EAAExB,SAAS,CAACgC,MAAM,CAACC;AAC5B,CAAC;AAGD,eAAe5B,eAAe;AAAC,IAAAyB,EAAA;AAAAI,YAAA,CAAAJ,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}