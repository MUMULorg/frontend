{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Desktop\\\\mumul_frontend\\\\mumul\\\\src\\\\component\\\\KakaoAuthHandle.js\";\nimport axios from 'axios';\nimport React, { useEffect } from 'react';\nimport { getUserInfo } from '../api/getUserInfo';\nimport PropTypes from 'prop-types';\nconst KakaoAuthHandle = props => {\n  useEffect(() => {\n    let code = new URL(window.location.href).searchParams.get('code');\n    const kakaoLogin = async () => {\n      try {\n        const res = await axios.get(`/v1/oauth/login/kakao?code=${code}`);\n        localStorage.setItem('token', res.headers.authorization);\n        const userInfo = await getUserInfo();\n        window.location.href = `/${userInfo.userId}`;\n      } catch (error) {\n        // Handle error if needed\n      }\n    };\n    kakaoLogin();\n  }, [props.history]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 5\n    }\n  }, \"\\uB85C\\uADF8\\uC778 \\uC911\\uC785\\uB2C8\\uB2E4...\"));\n};\nKakaoAuthHandle.propTypes = {\n  history: PropTypes.object.isRequired\n};\nexport default KakaoAuthHandle;","map":{"version":3,"names":["axios","React","useEffect","getUserInfo","PropTypes","KakaoAuthHandle","props","code","URL","window","location","href","searchParams","get","kakaoLogin","res","localStorage","setItem","headers","authorization","userInfo","userId","error","history","createElement","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","propTypes","object","isRequired"],"sources":["C:/Users/PC/Desktop/mumul_frontend/mumul/src/component/KakaoAuthHandle.js"],"sourcesContent":["import axios from 'axios';\r\nimport React, { useEffect } from 'react';\r\nimport { getUserInfo } from '../api/getUserInfo';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst KakaoAuthHandle = (props) => {\r\n  useEffect(() => {\r\n    let code = new URL(window.location.href).searchParams.get('code');\r\n    const kakaoLogin = async () => {\r\n      try {\r\n        const res = await axios.get(`/v1/oauth/login/kakao?code=${code}`);\r\n        localStorage.setItem('token', res.headers.authorization);\r\n        const userInfo = await getUserInfo();\r\n        window.location.href = `/${userInfo.userId}`;\r\n      } catch (error) {\r\n        // Handle error if needed\r\n      }\r\n    };\r\n    kakaoLogin();\r\n  }, [props.history]);\r\n\r\n  return (\r\n    <>\r\n    <p>로그인 중입니다...</p>\r\n    </>\r\n  );\r\n};\r\n\r\nKakaoAuthHandle.propTypes = {\r\n  history: PropTypes.object.isRequired,\r\n};\r\n\r\n\r\nexport default KakaoAuthHandle;\r\n\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,WAAW,QAAQ,oBAAoB;AAChD,OAAOC,SAAS,MAAM,YAAY;AAElC,MAAMC,eAAe,GAAIC,KAAK,IAAK;EACjCJ,SAAS,CAAC,MAAM;IACd,IAAIK,IAAI,GAAG,IAAIC,GAAG,CAACC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAC,CAACC,YAAY,CAACC,GAAG,CAAC,MAAM,CAAC;IACjE,MAAMC,UAAU,GAAG,MAAAA,CAAA,KAAY;MAC7B,IAAI;QACF,MAAMC,GAAG,GAAG,MAAMf,KAAK,CAACa,GAAG,CAAE,8BAA6BN,IAAK,EAAC,CAAC;QACjES,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,GAAG,CAACG,OAAO,CAACC,aAAa,CAAC;QACxD,MAAMC,QAAQ,GAAG,MAAMjB,WAAW,CAAC,CAAC;QACpCM,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAI,IAAGS,QAAQ,CAACC,MAAO,EAAC;MAC9C,CAAC,CAAC,OAAOC,KAAK,EAAE;QACd;MAAA;IAEJ,CAAC;IACDR,UAAU,CAAC,CAAC;EACd,CAAC,EAAE,CAACR,KAAK,CAACiB,OAAO,CAAC,CAAC;EAEnB,oBACEtB,KAAA,CAAAuB,aAAA,CAAAvB,KAAA,CAAAwB,QAAA,qBACAxB,KAAA,CAAAuB,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAG,gDAAc,CACf,CAAC;AAEP,CAAC;AAED1B,eAAe,CAAC2B,SAAS,GAAG;EAC1BT,OAAO,EAAEnB,SAAS,CAAC6B,MAAM,CAACC;AAC5B,CAAC;AAGD,eAAe7B,eAAe"},"metadata":{},"sourceType":"module"}