{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Desktop\\\\mumul_frontend\\\\mumul\\\\src\\\\pages\\\\Main.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Header from \"../component/Header\";\nimport SendComment from \"../component/SendComment\";\nimport ReceiveComment from \"../component/ReceiveComment\";\nimport MyProfile from \"../component/MyProfile\";\nimport QuestionerProfile from \"../component/QuestionerProfile\";\nimport { useParams } from \"react-router-dom\";\nimport { getSpaceInfo } from \"../api/getSpaceInfo\";\nimport { getUserInfo } from \"../api/getUserInfo\";\nimport PropTypes from 'prop-types';\nfunction Main({\n  isLogin,\n  setIsLogin,\n  followSelected,\n  setFollowSelected\n}) {\n  const {\n    id\n  } = useParams();\n  const [isNotFound, setIsNotFound] = useState(true);\n  const [info, setInfo] = useState({\n    userId: '',\n    picture: '',\n    name: '',\n    introduce: '',\n    instaId: '',\n    link: '',\n    spaceStop: '',\n    alertSpace: ''\n  });\n  const [currentUserInfo, setCurrentUserInfo] = useState({\n    userId: '',\n    picture: '',\n    name: '',\n    introduce: '',\n    instaId: '',\n    link: '',\n    spaceStop: ''\n  });\n  useEffect(() => {\n    const initUserInfo = async () => {\n      const newInfo = await getSpaceInfo(id);\n      const token = localStorage.getItem('token');\n      if (token !== null) {\n        const userInfo = await getUserInfo();\n        if (userInfo === false) {\n          setIsLogin(false);\n        }\n        setCurrentUserInfo(userInfo);\n      }\n      if (newInfo === false) {\n        setIsNotFound(true);\n      } else {\n        setIsNotFound(false);\n        setInfo(newInfo);\n      }\n    };\n    initUserInfo();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id, isLogin, followSelected]);\n  const [activeIndex, setActiveIndex] = useState(0);\n  const tabContArr = [{\n    id: 0,\n    tabTitle: \"받은 무물\",\n    tabCont: /*#__PURE__*/React.createElement(ReceiveComment, {\n      spaceId: id,\n      currentUserInfo: currentUserInfo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 16\n      }\n    })\n  }, {\n    id: 1,\n    tabTitle: \"보낸 무물\",\n    tabCont: /*#__PURE__*/React.createElement(SendComment, {\n      spaceId: id,\n      currentUserInfo: currentUserInfo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 16\n      }\n    })\n  }];\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }\n  }, isNotFound ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    isLogin: isLogin,\n    setIsLogin: setIsLogin,\n    currentUserInfo: currentUserInfo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contentWrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, currentUserInfo.userId === info.userId ? /*#__PURE__*/React.createElement(MyProfile, {\n    currentUserInfo: currentUserInfo,\n    followSelected: followSelected,\n    setFollowSelected: setFollowSelected,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(QuestionerProfile, {\n    spaceUserInfo: info,\n    currentUserInfo: currentUserInfo,\n    followSelected: followSelected,\n    setFollowSelected: setFollowSelected,\n    isLogin: isLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"tabMenu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, tabContArr.map(item => /*#__PURE__*/React.createElement(\"li\", {\n    className: activeIndex === item.id ? \"is-active\" : \"\",\n    onClick: () => setActiveIndex(item.id),\n    key: item.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, item.tabTitle))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, tabContArr.filter(item => activeIndex === item.id).map(item => /*#__PURE__*/React.createElement(\"div\", {\n    key: item.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 15\n    }\n  }, item.tabCont)))))));\n}\nMain.propTypes = {\n  isLogin: PropTypes.any.isRequired,\n  setIsLogin: PropTypes.any.isRequired,\n  followSelected: PropTypes.any.isRequired,\n  setFollowSelected: PropTypes.any.isRequired\n};\nexport default Main;","map":{"version":3,"names":["React","useState","useEffect","Header","SendComment","ReceiveComment","MyProfile","QuestionerProfile","useParams","getSpaceInfo","getUserInfo","PropTypes","Main","isLogin","setIsLogin","followSelected","setFollowSelected","id","isNotFound","setIsNotFound","info","setInfo","userId","picture","name","introduce","instaId","link","spaceStop","alertSpace","currentUserInfo","setCurrentUserInfo","initUserInfo","newInfo","token","localStorage","getItem","userInfo","activeIndex","setActiveIndex","tabContArr","tabTitle","tabCont","createElement","spaceId","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","Fragment","spaceUserInfo","map","item","onClick","key","filter","propTypes","any","isRequired"],"sources":["C:/Users/PC/Desktop/mumul_frontend/mumul/src/pages/Main.js"],"sourcesContent":["import React, { useState, useEffect} from \"react\";\r\nimport Header from \"../component/Header\";\r\nimport SendComment from \"../component/SendComment\";\r\nimport ReceiveComment from \"../component/ReceiveComment\";\r\nimport MyProfile from \"../component/MyProfile\";\r\nimport QuestionerProfile from \"../component/QuestionerProfile\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { getSpaceInfo } from \"../api/getSpaceInfo\";\r\nimport { getUserInfo } from \"../api/getUserInfo\";\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction Main({isLogin, setIsLogin, followSelected, setFollowSelected}) {\r\n  const { id } = useParams();\r\n\r\n  const [isNotFound, setIsNotFound] = useState(true);\r\n\r\n  const [info, setInfo] = useState({\r\n    userId: '',\r\n    picture: '',\r\n    name: '',\r\n    introduce: '',\r\n    instaId: '',\r\n    link: '',\r\n    spaceStop: '',\r\n    alertSpace: '',\r\n  });\r\n  const [currentUserInfo, setCurrentUserInfo] = useState({\r\n    userId: '',\r\n    picture: '',\r\n    name: '',\r\n    introduce: '',\r\n    instaId: '',\r\n    link: '',\r\n    spaceStop: '',\r\n  });\r\n\r\n \r\n\r\n  useEffect(() => {\r\n    const initUserInfo = async () => {\r\n      const newInfo = await getSpaceInfo(id);\r\n      const token = localStorage.getItem('token');\r\n  \r\n      if (token !== null) {\r\n        const userInfo = await getUserInfo();\r\n        if(userInfo === false) {\r\n          setIsLogin(false);\r\n        }\r\n        setCurrentUserInfo(userInfo);\r\n      }\r\n      if (newInfo === false) {\r\n        setIsNotFound(true);\r\n      } else {\r\n        setIsNotFound(false);\r\n        setInfo(newInfo);\r\n      }\r\n    };\r\n  \r\n    initUserInfo();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [id, isLogin, followSelected]);\r\n  \r\n\r\n  const [activeIndex, setActiveIndex] = useState(0);\r\n\r\n  const tabContArr = [\r\n    {\r\n      id: 0,\r\n      tabTitle: \"받은 무물\",\r\n      tabCont: <ReceiveComment spaceId={id} currentUserInfo={currentUserInfo}></ReceiveComment>,\r\n    },\r\n    {\r\n      id: 1,\r\n      tabTitle: \"보낸 무물\",\r\n      tabCont: <SendComment spaceId={id} currentUserInfo={currentUserInfo}></SendComment>,\r\n    },\r\n  ];\r\n\r\n\r\n  return (\r\n    <div className=\"wrap\">\r\n      {isNotFound ? (\r\n        <div></div>\r\n      ) : (\r\n        <>\r\n      <div className=\"wrap\">\r\n      <Header isLogin={isLogin} setIsLogin={setIsLogin} currentUserInfo={currentUserInfo}></Header>\r\n      <div className=\"contentWrap\">\r\n        {/* <Storyslide spaceId={id} followSelected={followSelected}></Storyslide> */}\r\n        {currentUserInfo.userId === info.userId ? (\r\n            <MyProfile currentUserInfo={currentUserInfo}\r\n            followSelected={followSelected} setFollowSelected={setFollowSelected}></MyProfile>\r\n          ) : (\r\n            <QuestionerProfile spaceUserInfo={info} currentUserInfo={currentUserInfo} \r\n            followSelected={followSelected} setFollowSelected={setFollowSelected}\r\n            isLogin={isLogin}></QuestionerProfile>\r\n        )}\r\n        <ul className=\"tabMenu\">\r\n          {tabContArr.map((item) => (\r\n            <li\r\n              className={activeIndex === item.id ? \"is-active\" : \"\"}\r\n              onClick={() => setActiveIndex(item.id)}\r\n              key={item.id}\r\n            >\r\n              {item.tabTitle}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        <div>\r\n          {tabContArr\r\n            .filter((item) => activeIndex === item.id)\r\n            .map((item) => (\r\n              <div key={item.id}>{item.tabCont}</div>\r\n            ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nMain.propTypes={\r\n  isLogin: PropTypes.any.isRequired,\r\n  setIsLogin: PropTypes.any.isRequired,\r\n  followSelected: PropTypes.any.isRequired,  \r\n  setFollowSelected: PropTypes.any.isRequired,    \r\n}\r\nexport default Main;"],"mappings":"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"},"metadata":{},"sourceType":"module"}