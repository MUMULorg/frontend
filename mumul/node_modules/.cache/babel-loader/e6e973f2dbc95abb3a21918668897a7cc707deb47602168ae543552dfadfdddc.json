{"ast":null,"code":"import axios from'axios';import React,{useEffect}from'react';import{getUserInfo}from'../api/getUserInfo';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const KakaoAuthHandle=props=>{useEffect(()=>{let code=new URL(window.location.href).searchParams.get('code');const kakaoLogin=async()=>{try{const res=await axios.get(\"/v1/oauth/login/kakao?code=\".concat(code));localStorage.setItem('token',res.headers.authorization);const userInfo=await getUserInfo();window.location.href=\"/\".concat(userInfo.userId);}catch(error){// Handle error if needed\n}};kakaoLogin();},[props.history]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"p\",{children:\"\\uB85C\\uADF8\\uC778 \\uC911\\uC785\\uB2C8\\uB2E4...\"})});};export default KakaoAuthHandle;","map":{"version":3,"names":["axios","React","useEffect","getUserInfo","jsx","_jsx","Fragment","_Fragment","KakaoAuthHandle","props","code","URL","window","location","href","searchParams","get","kakaoLogin","res","concat","localStorage","setItem","headers","authorization","userInfo","userId","error","history","children"],"sources":["C:/Users/PC/Desktop/mumul_frontend/mumul/src/component/KakaoAuthHandle.js"],"sourcesContent":["import axios from 'axios';\r\nimport React, { useEffect } from 'react';\r\nimport { getUserInfo } from '../api/getUserInfo';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst KakaoAuthHandle = (props) => {\r\n  useEffect(() => {\r\n    let code = new URL(window.location.href).searchParams.get('code');\r\n    const kakaoLogin = async () => {\r\n      try {\r\n        const res = await axios.get(`/v1/oauth/login/kakao?code=${code}`);\r\n        localStorage.setItem('token', res.headers.authorization);\r\n        const userInfo = await getUserInfo();\r\n        window.location.href = `/${userInfo.userId}`;\r\n      } catch (error) {\r\n        // Handle error if needed\r\n      }\r\n    };\r\n    kakaoLogin();\r\n  }, [props.history]);\r\n\r\n  return (\r\n    <>\r\n    <p>로그인 중입니다...</p>\r\n    </>\r\n  );\r\n};\r\n\r\nKakaoAuthHandle.propTypes = {\r\n  history: PropTypes.object.isRequired,\r\n};\r\n\r\n\r\nexport default KakaoAuthHandle;\r\n\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,WAAW,KAAQ,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAGjD,KAAM,CAAAC,eAAe,CAAIC,KAAK,EAAK,CACjCP,SAAS,CAAC,IAAM,CACd,GAAI,CAAAQ,IAAI,CAAG,GAAI,CAAAC,GAAG,CAACC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAC,CAACC,YAAY,CAACC,GAAG,CAAC,MAAM,CAAC,CACjE,KAAM,CAAAC,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAlB,KAAK,CAACgB,GAAG,+BAAAG,MAAA,CAA+BT,IAAI,CAAE,CAAC,CACjEU,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEH,GAAG,CAACI,OAAO,CAACC,aAAa,CAAC,CACxD,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAArB,WAAW,CAAC,CAAC,CACpCS,MAAM,CAACC,QAAQ,CAACC,IAAI,KAAAK,MAAA,CAAOK,QAAQ,CAACC,MAAM,CAAE,CAC9C,CAAE,MAAOC,KAAK,CAAE,CACd;AAAA,CAEJ,CAAC,CACDT,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,CAACR,KAAK,CAACkB,OAAO,CAAC,CAAC,CAEnB,mBACEtB,IAAA,CAAAE,SAAA,EAAAqB,QAAA,cACAvB,IAAA,MAAAuB,QAAA,CAAG,gDAAW,CAAG,CAAC,CAChB,CAAC,CAEP,CAAC,CAOD,cAAe,CAAApB,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}