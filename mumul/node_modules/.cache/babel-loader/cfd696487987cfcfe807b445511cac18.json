{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Desktop\\\\mumul_frontend\\\\mumul\\\\src\\\\component\\\\Header.js\";\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { logoutUserToken } from \"../api/logoutUserToken\";\nimport PropTypes from 'prop-types';\nfunction Header({\n  isLogin,\n  setIsLogin,\n  currentUserInfo\n}) {\n  const [modal, setModal] = useState(false);\n  const profileRef = useRef(null);\n  const handleClickOutside = event => {\n    if (profileRef.current && !profileRef.current.contains(event.target)) {\n      setModal(false);\n    }\n  };\n  const handleProfileClick = () => {\n    setModal(!modal);\n  };\n  const handleMumulClick = () => {\n    window.location.href = \"http://mumul.site\";\n  };\n  useEffect(() => {\n    // document 객체에 클릭 이벤트 리스너 등록\n    document.addEventListener(\"click\", handleClickOutside);\n    return () => {\n      // 컴포넌트가 언마운트 될 때 이벤트 리스너 제거\n      document.removeEventListener(\"click\", handleClickOutside);\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(\"header\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"title\",\n    onClick: handleMumulClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 8\n    }\n  }, \"MUMUL\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile\",\n    ref: profileRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, isLogin === true ? /*#__PURE__*/React.createElement(\"img\", {\n    src: currentUserInfo.picture,\n    alt: \"profile\",\n    onClick: handleProfileClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }) : /*#__PURE__*/React.createElement(Link, {\n    to: \"/login\",\n    className: \"loginBtn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, \"\\uB85C\\uADF8\\uC778\")), modal && /*#__PURE__*/React.createElement(HeaderPopup, {\n    isLogin: isLogin,\n    setIsLogin: setIsLogin,\n    currentUserInfo: currentUserInfo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }));\n}\nfunction HeaderPopup({\n  isLogin,\n  setIsLogin,\n  currentUserInfo\n}) {\n  const handleLogout = async () => {\n    try {\n      const result = await logoutUserToken();\n      if (result) {\n        // 로그아웃 성공\n        setIsLogin(false);\n        window.location.href = '/login';\n      }\n    } catch (error) {\n      console.error(\"로그아웃 오류: \", error.message);\n    }\n  };\n  const handleClickMySpace = () => {\n    if (currentUserInfo.userId === '') {\n      alert(\"로그인 하세요.\");\n      return;\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"headerPopup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"list\",\n    onClick: handleClickMySpace,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: isLogin !== false ? '/' + currentUserInfo.userId : '#',\n    onClick: e => {\n      if (isLogin !== false && window.location.pathname === '/' + currentUserInfo.userId) {\n        e.preventDefault(); // Prevent the default link behavior\n        window.location.reload(); // Force a page reload\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, \"\\uB0B4 \\uC2A4\\uD398\\uC774\\uC2A4\"))), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"list\",\n    onClick: () => {\n      if (isLogin !== false) handleLogout();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, isLogin ? \"로그아웃\" : \"로그인\"))), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"list\",\n    onClick: handleClickMySpace,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: currentUserInfo.userId !== '' ? '/setting' : '#',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }, \"\\uC124\\uC815\"))));\n}\nHeader.propTypes = {\n  isLogin: PropTypes.any.isRequired,\n  setIsLogin: PropTypes.any.isRequired,\n  currentUserInfo: PropTypes.any.isRequired\n};\nHeaderPopup.propTypes = {\n  isLogin: PropTypes.any.isRequired,\n  setIsLogin: PropTypes.any.isRequired,\n  currentUserInfo: PropTypes.any.isRequired\n};\nexport default Header;","map":{"version":3,"names":["React","useState","useRef","useEffect","Link","logoutUserToken","PropTypes","Header","isLogin","setIsLogin","currentUserInfo","modal","setModal","profileRef","handleClickOutside","event","current","contains","target","handleProfileClick","handleMumulClick","window","location","href","document","addEventListener","removeEventListener","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick","ref","src","picture","alt","to","HeaderPopup","handleLogout","result","error","console","message","handleClickMySpace","userId","alert","e","pathname","preventDefault","reload","propTypes","any","isRequired"],"sources":["C:/Users/PC/Desktop/mumul_frontend/mumul/src/component/Header.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { logoutUserToken } from \"../api/logoutUserToken\";\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nfunction Header({ isLogin, setIsLogin, currentUserInfo }) {\r\n  \r\n  const [modal, setModal] = useState(false);\r\n  const profileRef = useRef(null);\r\n\r\n  const handleClickOutside = (event) => {\r\n    if (profileRef.current && !profileRef.current.contains(event.target)) {\r\n      setModal(false);\r\n    }\r\n  };\r\n\r\n  const handleProfileClick = () => {\r\n    setModal(!modal);\r\n  };\r\n\r\n  const handleMumulClick = () => {\r\n    window.location.href = \"http://mumul.site\";\r\n  };\r\n\r\n  useEffect(() => {\r\n    // document 객체에 클릭 이벤트 리스너 등록\r\n    document.addEventListener(\"click\", handleClickOutside);\r\n    return () => {\r\n      // 컴포넌트가 언마운트 될 때 이벤트 리스너 제거\r\n      document.removeEventListener(\"click\", handleClickOutside);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <header className=\"header\">\r\n       <h1 className=\"title\" onClick={handleMumulClick}>MUMUL</h1>\r\n      <div className=\"profile\" ref={profileRef}>\r\n        {isLogin === true ? (\r\n          <img\r\n            src={ currentUserInfo.picture}\r\n            alt=\"profile\"\r\n            onClick={handleProfileClick}\r\n          />\r\n        ):(\r\n          <Link to=\"/login\" className=\"loginBtn\">\r\n            로그인\r\n          </Link>\r\n        )}\r\n      </div>\r\n      {modal && (\r\n        <HeaderPopup\r\n          isLogin={isLogin}\r\n          setIsLogin={setIsLogin}\r\n          currentUserInfo={currentUserInfo}\r\n        />\r\n      )}\r\n    </header>\r\n  );\r\n  \r\n}\r\n\r\n\r\nfunction HeaderPopup({ isLogin, setIsLogin, currentUserInfo }) {\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      const result = await logoutUserToken();\r\n      if (result) {\r\n        // 로그아웃 성공\r\n        setIsLogin(false);\r\n        window.location.href = '/login';\r\n      } \r\n    } catch (error) {\r\n      console.error(\"로그아웃 오류: \", error.message);\r\n    }\r\n  };\r\n\r\n  const handleClickMySpace = () => {\r\n    if (currentUserInfo.userId === '') {\r\n      alert(\"로그인 하세요.\");\r\n      return;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ul className=\"headerPopup\">\r\n      <li className=\"list\" onClick={handleClickMySpace}>\r\n      <Link to={isLogin !== false ? '/' + currentUserInfo.userId : '#'} onClick={(e) => {\r\n        if (isLogin !== false && window.location.pathname === '/' + currentUserInfo.userId) {\r\n          e.preventDefault(); // Prevent the default link behavior\r\n          window.location.reload(); // Force a page reload\r\n        }\r\n      }}>\r\n        <p>내 스페이스</p>\r\n      </Link>\r\n  </li>\r\n\r\n      <li className=\"list\" onClick={() => { if(isLogin !== false) handleLogout(); }}>\r\n        <Link to=\"/login\">\r\n          <p>{isLogin ? \"로그아웃\" : \"로그인\"}</p>\r\n        </Link>\r\n      </li>\r\n      <li className=\"list\" onClick={handleClickMySpace}>\r\n        <Link to={currentUserInfo.userId !== '' ? '/setting' : '#'}>\r\n          <p>설정</p>\r\n        </Link>\r\n      </li>\r\n    </ul>\r\n  );\r\n}\r\n\r\n\r\nHeader.propTypes = {\r\n  isLogin: PropTypes.any.isRequired,\r\n  setIsLogin: PropTypes.any.isRequired,\r\n  currentUserInfo: PropTypes.any.isRequired,\r\n};\r\n\r\nHeaderPopup.propTypes = {\r\n  isLogin: PropTypes.any.isRequired,\r\n  setIsLogin: PropTypes.any.isRequired,\r\n  currentUserInfo: PropTypes.any.isRequired,\r\n};\r\n\r\n\r\nexport default Header;"],"mappings":"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"},"metadata":{},"sourceType":"module"}