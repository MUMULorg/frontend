{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Desktop\\\\mumul_frontend\\\\mumul\\\\src\\\\pages\\\\Main.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Header from \"../component/Header\";\nimport SendComment from \"../component/SendComment\";\nimport ReceiveComment from \"../component/ReceiveComment\";\nimport MyProfile from \"../component/MyProfile\";\nimport QuestionerProfile from \"../component/QuestionerProfile\";\nimport { useParams } from \"react-router-dom\";\nimport { getSpaceInfo } from \"../api/getSpaceInfo\";\nimport { getUserInfo } from \"../api/getUserInfo\";\nfunction Main({\n  isLogin,\n  setIsLogin,\n  followSelected,\n  setFollowSelected\n}) {\n  const {\n    id\n  } = useParams();\n  const [isNotFound, setIsNotFound] = useState(true);\n  const [info, setInfo] = useState({\n    userId: '',\n    picture: '',\n    name: '',\n    introduce: '',\n    instaId: '',\n    link: '',\n    spaceStop: '',\n    alertSpace: ''\n  });\n  const [currentUserInfo, setCurrentUserInfo] = useState({\n    userId: '',\n    picture: '',\n    name: '',\n    introduce: '',\n    instaId: '',\n    link: '',\n    spaceStop: ''\n  });\n  useEffect(() => {\n    const initUserInfo = async () => {\n      const newInfo = await getSpaceInfo(id);\n      const token = localStorage.getItem('token');\n      if (token !== null) {\n        const userInfo = await getUserInfo();\n        if (userInfo === false) {\n          setIsLogin(false);\n        }\n        setCurrentUserInfo(userInfo);\n      }\n      if (newInfo === false) {\n        setIsNotFound(true);\n      } else {\n        setIsNotFound(false);\n        setInfo(newInfo);\n      }\n    };\n    initUserInfo();\n  }, [id, isLogin, followSelected]);\n  const [activeIndex, setActiveIndex] = useState(0);\n  const tabContArr = [{\n    id: 0,\n    tabTitle: \"받은 무물\",\n    tabCont: /*#__PURE__*/React.createElement(ReceiveComment, {\n      spaceId: id,\n      currentUserInfo: currentUserInfo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 16\n      }\n    })\n  }, {\n    id: 1,\n    tabTitle: \"보낸 무물\",\n    tabCont: /*#__PURE__*/React.createElement(SendComment, {\n      spaceId: id,\n      currentUserInfo: currentUserInfo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 16\n      }\n    })\n  }];\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }, isNotFound ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    isLogin: isLogin,\n    setIsLogin: setIsLogin,\n    currentUserInfo: currentUserInfo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contentWrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, currentUserInfo.userId === info.userId ? /*#__PURE__*/React.createElement(MyProfile, {\n    currentUserInfo: currentUserInfo,\n    followSelected: followSelected,\n    setFollowSelected: setFollowSelected,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(QuestionerProfile, {\n    spaceUserInfo: info,\n    currentUserInfo: currentUserInfo,\n    followSelected: followSelected,\n    setFollowSelected: setFollowSelected,\n    isLogin: isLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"tabMenu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, tabContArr.map(item => /*#__PURE__*/React.createElement(\"li\", {\n    className: activeIndex === item.id ? \"is-active\" : \"\",\n    onClick: () => setActiveIndex(item.id),\n    key: item.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, item.tabTitle))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, tabContArr.filter(item => activeIndex === item.id).map(item => /*#__PURE__*/React.createElement(\"div\", {\n    key: item.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 15\n    }\n  }, item.tabCont)))))));\n}\nexport default Main;","map":{"version":3,"names":["React","useState","useEffect","Header","SendComment","ReceiveComment","MyProfile","QuestionerProfile","useParams","getSpaceInfo","getUserInfo","Main","isLogin","setIsLogin","followSelected","setFollowSelected","id","isNotFound","setIsNotFound","info","setInfo","userId","picture","name","introduce","instaId","link","spaceStop","alertSpace","currentUserInfo","setCurrentUserInfo","initUserInfo","newInfo","token","localStorage","getItem","userInfo","activeIndex","setActiveIndex","tabContArr","tabTitle","tabCont","createElement","spaceId","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","Fragment","spaceUserInfo","map","item","onClick","key","filter"],"sources":["C:/Users/PC/Desktop/mumul_frontend/mumul/src/pages/Main.js"],"sourcesContent":["import React, { useState, useEffect} from \"react\";\r\nimport Header from \"../component/Header\";\r\nimport SendComment from \"../component/SendComment\";\r\nimport ReceiveComment from \"../component/ReceiveComment\";\r\nimport MyProfile from \"../component/MyProfile\";\r\nimport QuestionerProfile from \"../component/QuestionerProfile\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { getSpaceInfo } from \"../api/getSpaceInfo\";\r\nimport { getUserInfo } from \"../api/getUserInfo\";\r\n\r\nfunction Main({isLogin, setIsLogin, followSelected, setFollowSelected}) {\r\n  const { id } = useParams();\r\n\r\n  const [isNotFound, setIsNotFound] = useState(true);\r\n\r\n  const [info, setInfo] = useState({\r\n    userId: '',\r\n    picture: '',\r\n    name: '',\r\n    introduce: '',\r\n    instaId: '',\r\n    link: '',\r\n    spaceStop: '',\r\n    alertSpace: '',\r\n  });\r\n  const [currentUserInfo, setCurrentUserInfo] = useState({\r\n    userId: '',\r\n    picture: '',\r\n    name: '',\r\n    introduce: '',\r\n    instaId: '',\r\n    link: '',\r\n    spaceStop: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    const initUserInfo = async () => {\r\n      const newInfo = await getSpaceInfo(id);\r\n      const token = localStorage.getItem('token');\r\n  \r\n      if (token !== null) {\r\n        const userInfo = await getUserInfo();\r\n        if(userInfo === false) {\r\n          setIsLogin(false);\r\n        }\r\n        setCurrentUserInfo(userInfo);\r\n      }\r\n      if (newInfo === false) {\r\n        setIsNotFound(true);\r\n      } else {\r\n        setIsNotFound(false);\r\n        setInfo(newInfo);\r\n      }\r\n    };\r\n  \r\n    initUserInfo();\r\n  }, [id, isLogin, followSelected]);\r\n  \r\n\r\n  const [activeIndex, setActiveIndex] = useState(0);\r\n\r\n  const tabContArr = [\r\n    {\r\n      id: 0,\r\n      tabTitle: \"받은 무물\",\r\n      tabCont: <ReceiveComment spaceId={id} currentUserInfo={currentUserInfo}></ReceiveComment>,\r\n    },\r\n    {\r\n      id: 1,\r\n      tabTitle: \"보낸 무물\",\r\n      tabCont: <SendComment spaceId={id} currentUserInfo={currentUserInfo}></SendComment>,\r\n    },\r\n  ];\r\n\r\n\r\n  return (\r\n    <div className=\"wrap\">\r\n      {isNotFound ? (\r\n        <div></div>\r\n      ) : (\r\n        <>\r\n      <div className=\"wrap\">\r\n      <Header isLogin={isLogin} setIsLogin={setIsLogin} currentUserInfo={currentUserInfo}></Header>\r\n      <div className=\"contentWrap\">\r\n        {/* <Storyslide spaceId={id} followSelected={followSelected}></Storyslide> */}\r\n        {currentUserInfo.userId === info.userId ? (\r\n            <MyProfile currentUserInfo={currentUserInfo}\r\n            followSelected={followSelected} setFollowSelected={setFollowSelected}></MyProfile>\r\n          ) : (\r\n            <QuestionerProfile spaceUserInfo={info} currentUserInfo={currentUserInfo} \r\n            followSelected={followSelected} setFollowSelected={setFollowSelected}\r\n            isLogin={isLogin}></QuestionerProfile>\r\n        )}\r\n        <ul className=\"tabMenu\">\r\n          {tabContArr.map((item) => (\r\n            <li\r\n              className={activeIndex === item.id ? \"is-active\" : \"\"}\r\n              onClick={() => setActiveIndex(item.id)}\r\n              key={item.id}\r\n            >\r\n              {item.tabTitle}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        <div>\r\n          {tabContArr\r\n            .filter((item) => activeIndex === item.id)\r\n            .map((item) => (\r\n              <div key={item.id}>{item.tabCont}</div>\r\n            ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Main;"],"mappings":"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"},"metadata":{},"sourceType":"module"}